<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <script type="text/javascript" src="theStack.js"></script>
    <title>callbacks</title>
</head>
<body>
    <button id="add_to_stack">add callback</button>
    <main style="margin-top: 10vh;">
    <div style="background: black; color: white;">
        <h1 style="font-family: monospace;">The STACK</h1>
        <p id="the_stack"></p>
    </div>
        </main>

    <h5> The code:</h5>
    <div style="background-color: darkblue; color: white; font-family: monospace;"><pre><code>
    let paragraph;
    let button_element;
    var count = 0;

    function set_DOM() {
    paragraph = document.getElementById("the_stack")
    button_element= document.getElementById("add_to_stack")
    }

    function add_to_stack() {
    message = "adding to stack, process = " + count.toString() + "<br />"
    paragraph.innerHTML += message;
    count += 1
    }

    callback = () => {
    add_to_stack()
    message = "Call back function called, process = " + count.toString() + "<br />"
    paragraph.innerHTML += message
    count += 1
    }

    function no_callback() {
    message = "NO call back, process = " + count.toString() + "<br />"
    paragraph.innerHTML += message
    count += 1
    }

    function run() {
    window.setTimeout(callback, 2 * 1000);
    window.setTimeout(no_callback, 5000);
    }
    function setEventListeners() {
    button_element.addEventListener('click', run)
    }

    window.onload = function () {
    set_DOM()
    setEventListeners()
    }


</code></pre></div>


</body>
</html>
